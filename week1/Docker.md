### Docker 란?

- 컨테이너 기반의 오픈소스 가상화 플랫폼
- 실행 프로그램을 배포하기 위한 프로그램
- 실행 프로그램 + 실행 시 필요한 환경
- 이미지: 실행을 시키기 위한 프로그램
- 컨테이너: 이미지를 받아 실행시킨 프로세스

<br>

#### 이미지

- 컨테이너 실행에 필요한 파일과 설정값등을 포함하고 있는 것

<br>

#### 컨테이너

- 하나의 프로세스
- 실행중인 프로그램

<br>

#### 볼륨

- 컨테이너에 마운트해서 사용할 수 있는 디렉토리
- docker-compose 유틸리티 제공

<br>

### 컨테이너 제작

1. Dockerfile 파일생성

   - 어플리케이션 구동시 필요한 파일확인
   - 외부 dependencies 명시 (프레임워크, 라이브러리)
   - 필요환경변수 설정
   - 구동 스크립트 작성

2. Imgae 제작

   - 생성한 도커파일을 통해서 이미지 제작
   - 이미지 안에는 어플리케이션을 실행할때 필요한 코드, 라이브러리, 소스등이 포함되어 있음.
   - 실행되고 있는 어플리케이션을 스냅샷해서 이미지로 만들어둔다라고 생각하면 됨.
   - 만들어진 이미지는 변경이 불가능한 불변의 상태로 볼 수 있음.

3. Container 구동
   - sandbox 처럼 어플리케이션 이미지를 고립된 환경(개별 파일 시스템)에서 실행할 수 있음을 말함.
   - 컨테이너 안에서 어플리케이션이 실행함을 의미함.
   - 이미지를 통해서 어플리케이션을 구동함.
   - 이미지를 클래스라고 생각하고 만들어진 이미지를 통해서 각각의 컨테이너에서 실행이 되도록 함.[캡쳐했을 당시의 프로젝트 불변의 상태를 가짐]

<br>

### 컨테이너 배포

- 로컬 머신에서 이미지를 만들어서 github 같은 container registry에 만든 이미지를 push하고 필요한 서버나 pc에서 내가 만든 이미지를 그대로 pull 해서 실행을 하면 됨. 이미지 정상작동을 위해선 도커와 같은 컨테이너 엔진설치가 필수.

- 이미지를 공유, 업로드 할 수 있는 레지스트리는 public과 private가 있음.
- public: docker hub, github packages 등이 있음.
- private: 보안적인 문제로 대부분의 회사 프로젝트에서 사용. aws, google cloud, Azure 등이 있음.
